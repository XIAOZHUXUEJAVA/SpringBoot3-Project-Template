# Spring Boot 配置文件 - 开发环境
server:
  port: 9090

# Jasypt 加密配置（仅开发环境，生产环境通过环境变量传入）
jasypt:
  encryptor:
    password: xiaozhu

spring:
  # 禁用 favicon 处理，避免浏览器请求 favicon.ico 时产生异常日志
  mvc:
    favicon:
      enabled: false
  
  # 数据源配置 - 开发环境
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/framework_db?serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true&characterEncoding=UTF-8
    username: root
    # 密码已加密，使用 ENC() 包裹加密后的内容
    # 如需修改密码，请运行 JasyptEncryptorUtil.main() 生成新的加密值
    password: ENC(ATyJd2zA5fzR7qg3y7OrDyXu0eOQCHNwHy/wpNQeKohr7c/frwVFQt9hRrM6Yco6)

  # Redis 配置 - 开发环境
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      # 密码已加密，使用 ENC() 包裹加密后的内容
      # 如果没有密码则留空或删除此行
      password: ENC(/ks6OaoSmaB6Oe3YKANQtwOkc4vlFOLajCG6nJp0uEOrAC22hKvDVqWB9xQvd019)
      database: 0         # Redis 数据库索引（默认为0）
      timeout: 3000ms     # 连接超时时间
      lettuce:
        pool:
          max-active: 8   # 连接池最大连接数
          max-wait: -1ms  # 连接池最大阻塞等待时间（负值表示没有限制）
          max-idle: 8     # 连接池中的最大空闲连接
          min-idle: 0     # 连接池中的最小空闲连接

# MyBatis Plus 配置 - 开发环境
mybatis-plus:
  configuration:
    # 开启 SQL 日志输出（覆盖公共配置）
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# 日志配置 - 开发环境
logging:
  level:
    root: INFO
    com.zhu: DEBUG
    com.zhu.mapper: DEBUG
  pattern:
    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'

# SpringDoc OpenAPI 配置 - 开发环境
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
